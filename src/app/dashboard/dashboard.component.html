<div class="container mt-4">
  <h2 class="text-center mb-4">Health Dashboard</h2>

  <!-- Food Summary -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h4 class="mb-0">Food</h4>
        <a routerLink="/insights">Detailed View</a>
      </div>
      <p *ngIf="recentMeals.length === 0" class="text-muted">
        No meals logged yet.
      </p>
      <div *ngFor="let meal of recentMeals">
        <strong>{{ meal.mealName }}</strong> -
        {{ meal.timeEaten | date : "shortTime" }}<br />
        <span *ngFor="let food of meal.foods">
          â€¢ {{ food.foodName }}: {{ food.calories }} cal, {{ food.carbs }}g
          carbs, {{ food.protein }}g protein, {{ food.fat }}g fat<br />
        </span>
        <hr />
      </div>
      <button class="btn btn-sm btn-primary" (click)="goToAddMeal()">
        Add Meal
      </button>
    </div>
  </div>

  <!-- Glucose Summary -->
  <div class="card">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h4 class="mb-0">Glucose</h4>
        <a routerLink="/insights">Detailed View</a>
      </div>

      <div class="btn-group mb-3">
        <button
          *ngFor="let hours of rangeOptions"
          class="btn btn-outline-secondary btn-sm"
          [class.active]="selectedHours === hours"
          (click)="setRange(hours)"
        >
          {{ hours }} {{ hours === 1 ? "Hour" : "Hours" }}
        </button>
      </div>

      <canvas
        baseChart
        [datasets]="glucoseChartData"
        [labels]="glucoseChartLabels"
        [options]="glucoseChartOptions"
        [type]="'line'"
      >
      </canvas>

      <div class="mt-3 text-end">
        <button class="btn btn-sm btn-primary" (click)="goToAddReading()">
          Add Reading
        </button>
      </div>
    </div>
  </div>
</div>
